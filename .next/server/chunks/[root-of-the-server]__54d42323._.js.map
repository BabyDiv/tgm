{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///Users/innastacenko/Desktop/TGM-new/src/app/api/contact/route.js"],"sourcesContent":["// import { NextResponse } from 'next/server';\n// import nodemailer from 'nodemailer';\n\n// export async function POST(req) {\n//   try {\n//     const body = await req.json();\n\n//     const transporter = nodemailer.createTransport({\n//       host: 'mail.ps.kz',\n//       port: 587,  или 587, зависит от хостинга\n//       secure: false,  true для порта 465, false для 587\n//       auth: {\n//         user: process.env.SMTP_USER,\n//         pass: process.env.SMTP_PASS\n//       }\n//     });\n\n//     await transporter.sendMail({\n//       from: `\"${body.firstName} ${body.lastName}\" <${body.email}>`,\n//       to: 'info@cgmexport.kz',\n//       subject: 'Новое сообщение с сайта',\n//       text: `\n//         Имя: ${body.firstName} ${body.lastName}\n//         Email: ${body.email}\n//         Телефон: ${body.phone}\n//         Сообщение: ${body.message}\n//       `\n//     });\n\n//     return NextResponse.json({ success: true, message: 'Email sent' });\n//   } catch (error) {\n//     console.error('Ошибка при отправке письма:', error);\n//     return NextResponse.json({ success: false, message: error.message }, { status: 500 });\n//   }\n// }\n\nimport { NextResponse } from 'next/server';\nimport nodemailer from 'nodemailer';\n\nexport async function POST(req) {\n  try {\n    const body = await req.json();\n\n    console.log('SMTP_USER:', process.env.SMTP_USER);\n    console.log('SMTP_PASS:', process.env.SMTP_PASS ? '***' : 'нет пароля');\n\n    const transporter = nodemailer.createTransport({\n      host: 'mail.cgmexport.kz',\n      port: 465,\n      secure: true,\n      auth: {\n        user: process.env.SMTP_USER,\n        pass: process.env.SMTP_PASS,\n      },\n      tls: {\n        rejectUnauthorized: false,  // Отключаем строгую проверку сертификата\n      },\n    });\n\n    await transporter.sendMail({\n      from: `\"${body.firstName} ${body.lastName}\" <${body.email}>`,\n      to: 'info@cgmexport.kz',\n      subject: 'Новое сообщение с сайта',\n      text: `\n        Имя: ${body.firstName} ${body.lastName}\n        Email: ${body.email}\n        Телефон: ${body.phone}\n        Сообщение: ${body.message}\n      `,\n    });\n\n    return NextResponse.json({ success: true, message: 'Email sent' });\n  } catch (error) {\n    console.error('Ошибка при отправке письма:', error);\n    return NextResponse.json({ success: false, message: error.message }, { status: 500 });\n  }\n}"],"names":[],"mappings":"AAAA,8CAA8C;AAC9C,uCAAuC;AAEvC,oCAAoC;AACpC,UAAU;AACV,qCAAqC;AAErC,uDAAuD;AACvD,4BAA4B;AAC5B,iDAAiD;AACjD,0DAA0D;AAC1D,gBAAgB;AAChB,uCAAuC;AACvC,sCAAsC;AACtC,UAAU;AACV,UAAU;AAEV,mCAAmC;AACnC,sEAAsE;AACtE,iCAAiC;AACjC,4CAA4C;AAC5C,gBAAgB;AAChB,kDAAkD;AAClD,+BAA+B;AAC/B,iCAAiC;AACjC,qCAAqC;AACrC,UAAU;AACV,UAAU;AAEV,0EAA0E;AAC1E,sBAAsB;AACtB,2DAA2D;AAC3D,6FAA6F;AAC7F,MAAM;AACN,IAAI;;;;AAEJ;AACA;;;AAEO,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,QAAQ,GAAG,CAAC,cAAc,QAAQ,GAAG,CAAC,SAAS;QAC/C,QAAQ,GAAG,CAAC,cAAc,QAAQ,GAAG,CAAC,SAAS,GAAG,QAAQ;QAE1D,MAAM,cAAc,iJAAA,CAAA,UAAU,CAAC,eAAe,CAAC;YAC7C,MAAM;YACN,MAAM;YACN,QAAQ;YACR,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,SAAS;gBAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC7B;YACA,KAAK;gBACH,oBAAoB;YACtB;QACF;QAEA,MAAM,YAAY,QAAQ,CAAC;YACzB,MAAM,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,GAAG,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC;YAC5D,IAAI;YACJ,SAAS;YACT,MAAM,CAAC;aACA,EAAE,KAAK,SAAS,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC;eAChC,EAAE,KAAK,KAAK,CAAC;iBACX,EAAE,KAAK,KAAK,CAAC;mBACX,EAAE,KAAK,OAAO,CAAC;MAC5B,CAAC;QACH;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,SAAS;QAAa;IAClE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,SAAS,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACrF;AACF","debugId":null}}]
}